<article
  [class.bordered]="!articleBannerUrl"
  [class.clickable]="isClickable"
  [class.hoverable]="isClickable || isTitleClickable"
  (click)="onClickHost()"
>
  @if (articleBannerUrl) {
    <img class="article-banner" [src]="articleBannerUrl" [alt]="articleBannerAlt" />
  }
  <div class="article-content-wrapper">
    <header class="article-header">
      <div class="article-image">
        @if (articleIconTemplate) {
          <ng-container *ngTemplateOutlet="articleIconTemplate"></ng-container>
        } @else if (articleIconUrl) {
          <img [src]="articleIconUrl" [alt]="articleIconAlt" />
        }
      </div>
      @if (articleTitle | istemplate) {
        <h3
          class="article-title"
          [class.clickable]="isTitleClickable"
          [routerLink]="articleUrl"
          (click)="onClickTitle($event)"
        >
          <ng-container *ngTemplateOutlet="articleTitle" />
        </h3>
      } @else {
        <div
          class="article-title"
          [class.clickable]="isTitleClickable"
          [routerLink]="articleUrl"
          (click)="onClickTitle($event)"
        >
          {{ articleTitle }}
        </div>
      }
    </header>
    <p class="article-description">
      @if (articleDescription | istemplate) {
        <ng-container *ngTemplateOutlet="articleDescription" />
      } @else {
        {{ articleDescription }}
      }
    </p>
    @if (articleTags && articleTags.length) {
      <div class="article-tags" [class.clickable]="isTagsClickable">
        @for (tag of articleTags; track $index) {
          @if (tag | isstring) {
            <div class="article-tag" (click)="onClickTag($event, tag)">
              @if (articleTagIconTemplate) {
                <div class="article-tag-icon">
                  <ng-container *ngTemplateOutlet="articleTagIconTemplate; context: { text: tag }" />
                </div>
              }
              {{ tag }}
            </div>
          } @else {
            <div
              class="article-tag"
              [style.--article-tag-background-color]="tag.color ?? '#5d7092'"
              (click)="onClickTagItem($event, tag)"
            >
              @if (articleTagIconTemplate) {
                <div class="article-tag-icon">
                  <ng-container
                    *ngTemplateOutlet="articleTagIconTemplate; context: { text: tag.text, data: tag.data }"
                  />
                </div>
              }
              {{ tag.text }}
            </div>
          }
        }
      </div>
    }
    <footer class="article-footer">
      <ng-content></ng-content>
    </footer>
  </div>
</article>
